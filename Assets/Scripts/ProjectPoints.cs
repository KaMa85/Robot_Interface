using System.Collections;
using System.Collections.Generic;
using UnityEngine;




//[[1401.74854,660.625732],[1000.03259,896.23291],[1421.42468,619.945068],[977.424683,885.727783],[1445.7821,691.343],[910.223694,848.325073],[1408.82178,670.022034],[1409.41589,663.243103],[1392.23962,663.02771],[1436.30444,678.243591],[1361.33105,898.149231],[1437.5625,835.913879],[996.420044,896.193176],[1423.3009,627.323792],[1399.96899,651.736],[1375.51746,881.264709],[1417.86121,629.399414],[1379.79956,874.541504],[1449.60767,686.892151],[1389.14636,858.162415],[1456.27112,696.604431],[1421.83411,633.342773],[1419.2832,619.891724],[1419.43054,656.437744],[1421.41956,612.977234],[1419.70764,600.41],[1420.2572,639.895203],[1417.82117,635.752563],[1417.90576,631.691162],[940.149292,864.398682],[1378.75476,873.061218],[1417.66626,647.794678],[983.669617,885.700073],[1417.52368,640.295288],[1424.04858,603.742249],[1378.6012,868.526306],[1344.58411,696.607239],[1374.74072,876.35968],[1415.81702,640.749207],[935.630249,864.051758],[1363.35413,681.924377],[1443.33643,830.654785],[1383.67761,872.005554],[1364.6554,680.357117],[958.760193,881.488098],[1358.01807,820.744446],[1413.90417,645.33551],[1419.02234,652.024536],[1441.60486,843.883057],[1383.12854,878.079407],[934.521729,856.800659],[1409.94324,644.010803],[1418.01172,609.869],[1412.22705,642.252197],[920.178833,852.602966],[1386.70361,880.819214],[926.80426,848.830383],[891.917236,843.180542],[1396.61304,859.80249],[1406.81384,820.27179],[1348.73303,799.793701],[921.590271,854.142517],[1360.96423,769.649353],[1418.63757,685.102051],[892.948669,850.75885],[926.422485,856.904663],[1394.31079,784.719055],[1452.2478,699.401672],[1358.06,815.800842],[1444.01978,700.02771],[962.637573,875.589233],[1402.46545,759.659485],[855.082275,811.529236],[869.285034,825.546814],[959.592651,878.117371],[1425.93872,690.683472],[1371.81116,743.673035],[1344.15027,800.17511],[1444.63892,695.563843],[954.632751,867.110962],[1376.61682,744.538269],[1378.89038,876.245605],[1431.19873,775.296692],[1339.35,712.906799],[1350.59082,772.227417],[1466.63818,769.209961],[938.971375,859.58136],[1410.49109,635.135925],[1383.49023,766.945862],[991.314819,889.857666],[1342.88196,699.250549],[1461.94348,770.521606],[1359.18152,757.933],[886.512512,829.345032],[857.590271,812.127747],[1381.57654,880.219116],[1330.77039,890.773376],[873.283,824.012939],[1339.59241,729.749878],[1429.30725,775.276794],[1364.48047,748.721],[1378.54932,743.870789],[1378.8197,729.660156],[1330.62305,899.760803],[1377.21362,746.901],[1454.86389,765.981934],[1392.42468,876.170044],[1387.96191,679.388916],[1342.96558,797.858643],[887.131836,835.972778],[1373.85681,871.477844],[1376.43323,724.393616],[1339.92615,711.151611],[1361.85889,776.424561],[954.248779,870.586853],[1392.64978,880.432434],[1447.09497,706.390381],[1347.13269,789.336304],[1009.66248,898.283447],[1380.35522,883.183716],[931.186035,850.965515],[884.263,827.983398],[918.517334,847.474854],[1411.69031,755.140625],[1372.53101,869.401245],[1360.62244,687.072327],[1371.48425,755.223328],[1405.69226,674.025757],[1437.01208,774.314575],[1367.35583,759.877747],[1348.38623,770.480042],[1412.08887,709.062],[1333.80298,788.216],[1374.87598,870.485596],[1376.70947,753.587],[1379.59082,746.804077],[1351.88892,858.69989],[1380.04211,782.595764],[1373.23865,754.899],[1426.89014,685.91626],[1349.91467,840.791321],[1402.94714,764.698914],[1373.49524,784.053772],[1359.13599,683.996521],[1382.49268,679.93457],[1357.52856,826.450684],[1451.26636,808.212402],[1354.27393,718.395691],[1446.21594,760.416565],[1421.61169,734.908875],[1448.48633,718.845642],[1442.61072,837.991638],[1334.18652,869.176575],[1364.37915,792.872437],[1100.74988,899.91],[1353.5481,693.363525],[1376.12439,754.647339],[1349.1322,804.07605],[1429.40881,856.710388],[1416.75928,885.569824],[1444.05859,819.4422],[1344.948,701.688],[1352.9856,691.660583],[1468.92651,767.707825],[935.615906,871.054077],[1382.50916,722.591919],[1079.41016,904.201904],[1381.33228,666.93219],[1375.36169,746.675476],[1352.00488,723.968079],[1352.89331,683.166],[1443.41431,723.689941],[1364.81274,870.347351],[1445.23535,726.736389],[897.739319,620.531616],[1447.38855,840.48407],[988.159424,899.53656],[1006.24274,903.371826],[1372.20178,872.296204],[1442.73083,898.566528],[1443.28381,902.304077],[1454.57874,732.287],[1352.59692,807.515686],[863.657,823.01],[1341.10815,689.459839],[1470.23914,795.237854],[1426.33728,764.156128],[1353.4292,768.498],[1283.25244,899.260193],[858.423828,650.75824],[1364.55225,866.369202],[1380.67908,743.277],[1407.34741,912.170349],[956.264526,857.567078],[1444.91406,791.120361],[1406.70874,737.933167],[861.892334,824.694153],[1354.33264,722.433228],[1383.19263,878.868896],[1401.7959,804.706604],[1434.81213,779.908936],[1383.67834,680.815125],[960.538391,869.324341],[1380.19336,750.943604],[1443.43628,816.207825],[1452.33691,696.501282],[1459.75195,760.9646],[869.686768,815.884827],[1346.61353,711.69165],[1428.82837,695.029602],[1359.62292,821.599487],[850.638062,802.142212],[1378.74902,782.073792],[857.953491,803.209],[1367.64282,772.955383],[1454.75256,704.148743],[1441.23682,737.935547],[1443.69519,807.9646],[1365.63611,770.668762],[959.299377,889.985],[1374.12671,726.809937],[1388.85229,683.943848],[1346.83923,858.93457],[1308.13452,749.599182],[1084.59778,898.058472],[1347.77344,816.268555],[1385.48279,744.387085],[1353.35388,688.775208],[1425.4104,779.816284],[1443.53381,831.27655],[1397.24146,768.612488],[858.438782,654.78],[1455.69446,773.188171],[1303.85706,628.482849],[1391.13855,685.657715],[1427.93774,788.608459],[1368.20654,752.154419],[1371.85559,726.461609],[958.670959,873.768494],[1041.42139,897.874084],[1444.5354,821.070068],[1376.19,756.878601],[888.530151,847.162842],[1088.40979,898.005615],[1385.45374,673.154785],[1358.18323,824.124451],[1363.52344,797.026306],[1251.17322,896.546631],[1390.57593,881.288635],[1345.08179,835.50769],[1436.39038,828.108826],[1355.59509,680.66626],[1016.42383,903.050049],[1422.49915,696.057861],[1358.74158,686.793152],[1349.42078,764.524231],[1416.79907,893.185791],[1402.20032,709.270935],[1413.48328,908.93158],[1354.93494,848.875305],[1362.6582,672.635681],[1380.48657,785.280823],[926.904419,865.554138],[1441.22156,902.016418],[1452.36877,780.938049],[1349.84485,766.94165],[851.423828,773.938721],[310.416626,406.445923],[281.673737,427.746552],[271.887115,433.475281],[314.079834,409.041351],[234.042786,446.754303],[306.032318,415.646362],[173.056839,461.044434],[284.405426,426.144104],[221.314499,448.186157],[187.225586,453.842621],[257.193298,424.489349],[159.74498,472.542],[244.099258,433.622894],[321.691772,412.565247],[249.365814,432.349487],[191.981094,453.176483],[318.742432,404.340393],[204.197861,446.92218],[213.9646,452.967468],[291.190491,423.055145],[198.871841,459.85672],[277.163452,419.99118],[318.717712,406.972839],[164.43985,466.397827],[322.300507,400.492493],[294.330963,412.161865],[254.36702,435.548157],[297.753815,410.09433],[246.410522,439.581482],[288.765533,418.50708],[248.715363,430.493347],[221.289749,439.663391],[214.225021,449.771271],[251.530609,440.73291],[169.340363,467.339813],[166.479309,466.458893],[171.370804,467.744507],[207.629486,459.914764],[176.41835,462.801605],[251.138855,442.526428],[276.959259,428.307617],[207.029343,451.673889],[176.426575,471.362305],[275.592133,423.033081],[329.056671,408.983948],[300.635712,414.213196],[205.375427,452.375519],[205.21936,457.875],[194.765533,466.272797],[342.219147,393.610443],[225.77948,437.186951],[338.896851,406.658813],[188.273285,464.064697],[340.410492,403.189087],[157.848572,466.312897],[210.887543,460.944855],[302.497467,407.694794],[274.484802,427.37149],[216.396027,446.591797],[180.49675,469.473511],[214.619324,443.471893],[224.465164,438.582153],[303.450836,413.215179],[209.800247,452.108673],[293.341461,426.048157],[292.348969,422.607422],[201.30397,463.640961],[457.214569,445.569763],[183.797577,463.386139],[176.486755,464.450134],[210.145126,457.153503],[299.810913,418.449158],[320.044617,406.989319],[426.365021,410.622711],[207.324677,466.653778],[303.096222,405.044586],[172.260696,474.806396],[307.266022,408.047882],[424.906067,409.360291],[259.975769,443.899231],[441.418854,402.60849],[441.272583,395.04071],[300.757141,425.255615],[445.321442,427.43396],[315.700348,399.152222],[451.750549,450.577087],[224.954575,444.923737],[347.605865,417.311432],[443.568329,424.921234],[446.541931,435.296143],[457.041504,463.081696],[306.172699,424.29718],[440.838135,416.347015],[193.858307,453.509766],[441.078461,419.598236],[217.886017,438.303192],[441.842743,443.171936],[226.695816,451.564392],[222.340912,462.168976],[440.169647,467.383148],[315.566803,409.68866],[219.210037,442.167847],[241.42894,440.493683],[207.655212,449.607361],[301.209656,432.660736],[435.946808,424.21283],[455.173889,450.209564],[240.755264,446.758698],[325.370941,435.21109],[439.668152,450.255859],[299.302795,455.547729],[441.26767,411.061493],[419.162872,470.235291],[452.968323,444.306549],[213.168304,465.272156],[229.19751,453.556549],[281.309631,434.298096],[429.53418,403.672211],[275.30188,438.76593],[366.109436,463.877197],[227.272125,460.008392],[335.754272,464.529602],[319.513916,442.816132],[343.889862,450.102264],[457.032593,454.175629],[358.092102,396.478149],[311.890106,443.181396],[447.427612,452.502411],[272.059509,440.584167],[444.159729,401.086304],[448.74054,442.476898],[439.671783,433.723755],[323.945587,418.577515],[315.131927,438.60257],[235.4767,437.870575],[216.36084,466.657043],[443.81546,450.014648],[367.368652,460.729248],[275.054657,440.129669],[434.934143,420.717285],[420.90387,428.431427],[225.126968,470.130371],[283.62442,434.805389],[381.726685,447.938049],[310.880951,435.005371],[452.513092,430.380737],[266.558289,447.764069],[325.723511,443.497681],[425.465759,433.431824],[432.599457,449.251953],[324.456482,444.409485],[326.812,453.078369],[328.54657,453.181274],[447.947388,401.953064],[223.56424,465.574432],[428.462524,416.233429],[361.199219,396.4758],[298.25177,461.847961],[436.922211,395.901489],[356.259277,455.20459],[432.048035,466.640167],[334.343597,444.68573],[447.446716,466.403],[426.408417,465.052704],[356.585388,397.483276],[296.686371,450.032074],[343.380188,445.207397],[418.328552,456.717865],[457.031097,437.164215],[417.238159,430.358124],[318.621674,447.910461],[241.808044,452.704],[309.240143,430.369873],[430.58313,445.931152],[412.659576,471.056122],[228.899979,472.134216],[330.355957,454.496948],[304.448425,422.49881],[398.990204,460.486206],[432.840546,471.131256],[434.172882,426.593262],[420.211914,410.941254],[277.429413,439.908112],[452.300659,434.82663],[302.880157,445.182678],[393.066406,463.457336],[290.881,462.399139],[294.935791,431.668427],[239.989136,451.475],[341.908325,407.529724],[294.9534,406.018036],[288.107605,457.341095],[235.803864,459.566589],[153.715729,464.345337],[354.380676,453.674744],[408.977966,413.948639],[426.775024,448.582062],[401.381683,411.092224],[292.596039,455.795776],[402.590393,443.104828],[323.813202,472.164368],[296.018646,431.631683],[350.614563,460.859192],[289.8573,458.245972],[340.610077,449.371918],[411.828278,410.161926],[343.822937,426.386353],[286.695618,464.112854],[193.580658,471.659363],[400.254791,450.336945],[264.530029,420.077667],[428.790192,442.242981],[334.690094,435.637665],[409.944244,429.624451],[324.405762,429.227051],[300.021515,444.25885],[409.244232,435.238525],[277.023682,442.92453],[333.644714,452.574677],[425.881775,440.729797],[335.194244,451.832336],[293.814,447.623],[424.295532,461.870148],[410.367371,431.692719],[402.224152,455.29068],[403.935455,470.51059],[311.792267,464.244049],[354.608521,431.703888],[304.867737,454.373],[305.003204,462.971558],[324.385681,431.650879],[395.28653,393.810638],[397.173218,393.795288],[226.233154,462.929657],[446.483826,458.128082],[334.119385,419.806305],[192.433975,450.223053],[280.227081,438.996521],[409.184418,444.385925],[259.704834,452.180115],[454.655182,469.339783],[314.931274,425.087463],[268.931274,457.638489],[368.008698,447.472015],[399.686646,464.086],[350.76767,428.781128],[433.064972,431.447083],[419.031128,442.838287],[258.443237,451.703827],[438.562439,407.275177]]
public class ProjectPoints : MonoBehaviour
{
    public GameObject markerPrefab;
    public Vector2 videoSize = new Vector2(2272, 1278);
    public List<Vector2> interestPoints = new List<Vector2>();// { new Vector2(21401.74854f, 660.625732f), new Vector2(1000.03259f, 896.23291f), new Vector2(1421.42468f, 619.945068f), new Vector2(977.424683f, 885.727783f), new Vector2(1445.7821f, 691.343f), new Vector2(910.223694f, 848.325073f), new Vector2(1408.82178f, 670.022034f), new Vector2(1409.41589f, 663.243103f), new Vector2(1392.23962f, 663.02771f), new Vector2(1436.30444f, 678.243591f), new Vector2(1361.33105f, 898.149231f), new Vector2(1437.5625f, 835.913879f), new Vector2(996.420044f, 896.193176f), new Vector2(1423.3009f, 627.323792f), new Vector2(1399.96899f, 651.736f), new Vector2(1375.51746f, 881.264709f), new Vector2(1417.86121f, 629.399414f), new Vector2(1379.79956f, 874.541504f), new Vector2(1449.60767f, 686.892151f), new Vector2(1389.14636f, 858.162415f), new Vector2(1456.27112f, 696.604431f), new Vector2(1421.83411f, 633.342773f), new Vector2(1419.2832f, 619.891724f), new Vector2(1419.43054f, 656.437744f), new Vector2(1421.41956f, 612.977234f), new Vector2(1419.70764f, 600.41f), new Vector2(1420.2572f, 639.895203f), new Vector2(1417.82117f, 635.752563f), new Vector2(1417.90576f, 631.691162f), new Vector2(940.149292f, 864.398682f), new Vector2(1378.75476f, 873.061218f), new Vector2(1417.66626f, 647.794678f), new Vector2(983.669617f, 885.700073f), new Vector2(1417.52368f, 640.295288f), new Vector2(1424.04858f, 603.742249f), new Vector2(1378.6012f, 868.526306f), new Vector2(1344.58411f, 696.607239f), new Vector2(1374.74072f, 876.35968f), new Vector2(1415.81702f, 640.749207f), new Vector2(935.630249f, 864.051758f), new Vector2(1363.35413f, 681.924377f), new Vector2(1443.33643f, 830.654785f), new Vector2(1383.67761f, 872.005554f), new Vector2(1364.6554f, 680.357117f), new Vector2(958.760193f, 881.488098f), new Vector2(1358.01807f, 820.744446f), new Vector2(1413.90417f, 645.33551f), new Vector2(1419.02234f, 652.024536f), new Vector2(1441.60486f, 843.883057f), new Vector2(1383.12854f, 878.079407f), new Vector2(934.521729f, 856.800659f), new Vector2(1409.94324f, 644.010803f), new Vector2(1418.01172f, 609.869f), new Vector2(1412.22705f, 642.252197f), new Vector2(920.178833f, 852.602966f), new Vector2(1386.70361f, 880.819214f), new Vector2(926.80426f, 848.830383f), new Vector2(891.917236f, 843.180542f), new Vector2(1396.61304f, 859.80249f), new Vector2(1406.81384f, 820.27179f), new Vector2(1348.73303f, 799.793701f), new Vector2(921.590271f, 854.142517f), new Vector2(1360.96423f, 769.649353f), new Vector2(1418.63757f, 685.102051f), new Vector2(892.948669f, 850.75885f), new Vector2(926.422485f, 856.904663f), new Vector2(1394.31079f, 784.719055f), new Vector2(1452.2478f, 699.401672f), new Vector2(1358.06f, 815.800842f), new Vector2(1444.01978f, 700.02771f), new Vector2(962.637573f, 875.589233f), new Vector2(1402.46545f, 759.659485f), new Vector2(855.082275f, 811.529236f), new Vector2(869.285034f, 825.546814f), new Vector2(959.592651f, 878.117371f), new Vector2(1425.93872f, 690.683472f), new Vector2(1371.81116f, 743.673035f), new Vector2(1344.15027f, 800.17511f), new Vector2(1444.63892f, 695.563843f), new Vector2(954.632751f, 867.110962f), new Vector2(1376.61682f, 744.538269f), new Vector2(1378.89038f, 876.245605f), new Vector2(1431.19873f, 775.296692f), new Vector2(1339.35f, 712.906799f), new Vector2(1350.59082f, 772.227417f), new Vector2(1466.63818f, 769.209961f), new Vector2(938.971375f, 859.58136f), new Vector2(1410.49109f, 635.135925f), new Vector2(1383.49023f, 766.945862f), new Vector2(991.314819f, 889.857666f), new Vector2(1342.88196f, 699.250549f), new Vector2(1461.94348f, 770.521606f), new Vector2(1359.18152f, 757.933f), new Vector2(886.512512f, 829.345032f), new Vector2(857.590271f, 812.127747f), new Vector2(1381.57654f, 880.219116f), new Vector2(1330.77039f, 890.773376f), new Vector2(873.283f, 824.012939f), new Vector2(1339.59241f, 729.749878f), new Vector2(1429.30725f, 775.276794f), new Vector2(1364.48047f, 748.721f), new Vector2(1378.54932f, 743.870789f), new Vector2(1378.8197f, 729.660156f), new Vector2(1330.62305f, 899.760803f), new Vector2(1377.21362f, 746.901f), new Vector2(1454.86389f, 765.981934f), new Vector2(1392.42468f, 876.170044f), new Vector2(1387.96191f, 679.388916f), new Vector2(1342.96558f, 797.858643f), new Vector2(887.131836f, 835.972778f), new Vector2(1373.85681f, 871.477844f), new Vector2(1376.43323f, 724.393616f), new Vector2(1339.92615f, 711.151611f), new Vector2(1361.85889f, 776.424561f), new Vector2(954.248779f, 870.586853f), new Vector2(1392.64978f, 880.432434f), new Vector2(1447.09497f, 706.390381f), new Vector2(1347.13269f, 789.336304f), new Vector2(1009.66248f, 898.283447f), new Vector2(1380.35522f, 883.183716f), new Vector2(931.186035f, 850.965515f), new Vector2(884.263f, 827.983398f), new Vector2(918.517334f, 847.474854f), new Vector2(1411.69031f, 755.140625f), new Vector2(1372.53101f, 869.401245f), new Vector2(1360.62244f, 687.072327f), new Vector2(1371.48425f, 755.223328f), new Vector2(1405.69226f, 674.025757f), new Vector2(1437.01208f, 774.314575f), new Vector2(1367.35583f, 759.877747f), new Vector2(1348.38623f, 770.480042f), new Vector2(1412.08887f, 709.062f), new Vector2(1333.80298f, 788.216f), new Vector2(1374.87598f, 870.485596f), new Vector2(1376.70947f, 753.587f), new Vector2(1379.59082f, 746.804077f), new Vector2(1351.88892f, 858.69989f), new Vector2(1380.04211f, 782.595764f), new Vector2(1373.23865f, 754.899f), new Vector2(1426.89014f, 685.91626f), new Vector2(1349.91467f, 840.791321f), new Vector2(1402.94714f, 764.698914f), new Vector2(1373.49524f, 784.053772f), new Vector2(1359.13599f, 683.996521f), new Vector2(1382.49268f, 679.93457f), new Vector2(1357.52856f, 826.450684f), new Vector2(1451.26636f, 808.212402f), new Vector2(1354.27393f, 718.395691f), new Vector2(1446.21594f, 760.416565f), new Vector2(1421.61169f, 734.908875f), new Vector2(1448.48633f, 718.845642f), new Vector2(1442.61072f, 837.991638f), new Vector2(1334.18652f, 869.176575f), new Vector2(1364.37915f, 792.872437f), new Vector2(1100.74988f, 899.91f), new Vector2(1353.5481f, 693.363525f), new Vector2(1376.12439f, 754.647339f), new Vector2(1349.1322f, 804.07605f), new Vector2(1429.40881f, 856.710388f), new Vector2(1416.75928f, 885.569824f), new Vector2(1444.05859f, 819.4422f), new Vector2(1344.948f, 701.688f), new Vector2(1352.9856f, 691.660583f), new Vector2(1468.92651f, 767.707825f), new Vector2(935.615906f, 871.054077f), new Vector2(1382.50916f, 722.591919f), new Vector2(1079.41016f, 904.201904f), new Vector2(1381.33228f, 666.93219f), new Vector2(1375.36169f, 746.675476f), new Vector2(1352.00488f, 723.968079f), new Vector2(1352.89331f, 683.166f), new Vector2(1443.41431f, 723.689941f), new Vector2(1364.81274f, 870.347351f), new Vector2(1445.23535f, 726.736389f), new Vector2(897.739319f, 620.531616f), new Vector2(1447.38855f, 840.48407f), new Vector2(988.159424f, 899.53656f), new Vector2(1006.24274f, 903.371826f), new Vector2(1372.20178f, 872.296204f), new Vector2(1442.73083f, 898.566528f), new Vector2(1443.28381f, 902.304077f), new Vector2(1454.57874f, 732.287f), new Vector2(1352.59692f, 807.515686f), new Vector2(863.657f, 823.01f), new Vector2(1341.10815f, 689.459839f), new Vector2(1470.23914f, 795.237854f), new Vector2(1426.33728f, 764.156128f), new Vector2(1353.4292f, 768.498f), new Vector2(1283.25244f, 899.260193f), new Vector2(858.423828f, 650.75824f), new Vector2(1364.55225f, 866.369202f), new Vector2(1380.67908f, 743.277f), new Vector2(1407.34741f, 912.170349f), new Vector2(956.264526f, 857.567078f), new Vector2(1444.91406f, 791.120361f), new Vector2(1406.70874f, 737.933167f), new Vector2(861.892334f, 824.694153f), new Vector2(1354.33264f, 722.433228f), new Vector2(1383.19263f, 878.868896f), new Vector2(1401.7959f, 804.706604f), new Vector2(1434.81213f, 779.908936f), new Vector2(1383.67834f, 680.815125f), new Vector2(960.538391f, 869.324341f), new Vector2(1380.19336f, 750.943604f), new Vector2(1443.43628f, 816.207825f), new Vector2(1452.33691f, 696.501282f), new Vector2(1459.75195f, 760.9646f), new Vector2(869.686768f, 815.884827f), new Vector2(1346.61353f, 711.69165f), new Vector2(1428.82837f, 695.029602f), new Vector2(1359.62292f, 821.599487f), new Vector2(850.638062f, 802.142212f), new Vector2(1378.74902f, 782.073792f), new Vector2(857.953491f, 803.209f), new Vector2(1367.64282f, 772.955383f), new Vector2(1454.75256f, 704.148743f), new Vector2(1441.23682f, 737.935547f), new Vector2(1443.69519f, 807.9646f), new Vector2(1365.63611f, 770.668762f), new Vector2(959.299377f, 889.985f), new Vector2(1374.12671f, 726.809937f), new Vector2(1388.85229f, 683.943848f), new Vector2(1346.83923f, 858.93457f), new Vector2(1308.13452f, 749.599182f), new Vector2(1084.59778f, 898.058472f), new Vector2(1347.77344f, 816.268555f), new Vector2(1385.48279f, 744.387085f), new Vector2(1353.35388f, 688.775208f), new Vector2(1425.4104f, 779.816284f), new Vector2(1443.53381f, 831.27655f), new Vector2(1397.24146f, 768.612488f), new Vector2(858.438782f, 654.78f), new Vector2(1455.69446f, 773.188171f), new Vector2(1303.85706f, 628.482849f), new Vector2(1391.13855f, 685.657715f), new Vector2(1427.93774f, 788.608459f), new Vector2(1368.20654f, 752.154419f), new Vector2(1371.85559f, 726.461609f), new Vector2(958.670959f, 873.768494f), new Vector2(1041.42139f, 897.874084f), new Vector2(1444.5354f, 821.070068f), new Vector2(1376.19f, 756.878601f), new Vector2(888.530151f, 847.162842f), new Vector2(1088.40979f, 898.005615f), new Vector2(1385.45374f, 673.154785f), new Vector2(1358.18323f, 824.124451f), new Vector2(1363.52344f, 797.026306f), new Vector2(1251.17322f, 896.546631f), new Vector2(1390.57593f, 881.288635f), new Vector2(1345.08179f, 835.50769f), new Vector2(1436.39038f, 828.108826f), new Vector2(1355.59509f, 680.66626f), new Vector2(1016.42383f, 903.050049f), new Vector2(1422.49915f, 696.057861f), new Vector2(1358.74158f, 686.793152f), new Vector2(1349.42078f, 764.524231f), new Vector2(1416.79907f, 893.185791f), new Vector2(1402.20032f, 709.270935f), new Vector2(1413.48328f, 908.93158f), new Vector2(1354.93494f, 848.875305f), new Vector2(1362.6582f, 672.635681f), new Vector2(1380.48657f, 785.280823f), new Vector2(926.904419f, 865.554138f), new Vector2(1441.22156f, 902.016418f), new Vector2(1452.36877f, 780.938049f), new Vector2(1349.84485f, 766.94165f), new Vector2(851.423828f, 773.938721f), new Vector2(310.416626f, 406.445923f), new Vector2(281.673737f, 427.746552f), new Vector2(271.887115f, 433.475281f), new Vector2(314.079834f, 409.041351f), new Vector2(234.042786f, 446.754303f), new Vector2(306.032318f, 415.646362f), new Vector2(173.056839f, 461.044434f), new Vector2(284.405426f, 426.144104f), new Vector2(221.314499f, 448.186157f), new Vector2(187.225586f, 453.842621f), new Vector2(257.193298f, 424.489349f), new Vector2(159.74498f, 472.542f), new Vector2(244.099258f, 433.622894f), new Vector2(321.691772f, 412.565247f), new Vector2(249.365814f, 432.349487f), new Vector2(191.981094f, 453.176483f), new Vector2(318.742432f, 404.340393f), new Vector2(204.197861f, 446.92218f), new Vector2(213.9646f, 452.967468f), new Vector2(291.190491f, 423.055145f), new Vector2(198.871841f, 459.85672f), new Vector2(277.163452f, 419.99118f), new Vector2(318.717712f, 406.972839f), new Vector2(164.43985f, 466.397827f), new Vector2(322.300507f, 400.492493f), new Vector2(294.330963f, 412.161865f), new Vector2(254.36702f, 435.548157f), new Vector2(297.753815f, 410.09433f), new Vector2(246.410522f, 439.581482f), new Vector2(288.765533f, 418.50708f), new Vector2(248.715363f, 430.493347f), new Vector2(221.289749f, 439.663391f), new Vector2(214.225021f, 449.771271f), new Vector2(251.530609f, 440.73291f), new Vector2(169.340363f, 467.339813f), new Vector2(166.479309f, 466.458893f), new Vector2(171.370804f, 467.744507f), new Vector2(207.629486f, 459.914764f), new Vector2(176.41835f, 462.801605f), new Vector2(251.138855f, 442.526428f), new Vector2(276.959259f, 428.307617f), new Vector2(207.029343f, 451.673889f), new Vector2(176.426575f, 471.362305f), new Vector2(275.592133f, 423.033081f), new Vector2(329.056671f, 408.983948f), new Vector2(300.635712f, 414.213196f), new Vector2(205.375427f, 452.375519f), new Vector2(205.21936f, 457.875f), new Vector2(194.765533f, 466.272797f), new Vector2(342.219147f, 393.610443f), new Vector2(225.77948f, 437.186951f), new Vector2(338.896851f, 406.658813f), new Vector2(188.273285f, 464.064697f), new Vector2(340.410492f, 403.189087f), new Vector2(157.848572f, 466.312897f), new Vector2(210.887543f, 460.944855f), new Vector2(302.497467f, 407.694794f), new Vector2(274.484802f, 427.37149f), new Vector2(216.396027f, 446.591797f), new Vector2(180.49675f, 469.473511f), new Vector2(214.619324f, 443.471893f), new Vector2(224.465164f, 438.582153f), new Vector2(303.450836f, 413.215179f), new Vector2(209.800247f, 452.108673f), new Vector2(293.341461f, 426.048157f), new Vector2(292.348969f, 422.607422f), new Vector2(201.30397f, 463.640961f), new Vector2(457.214569f, 445.569763f), new Vector2(183.797577f, 463.386139f), new Vector2(176.486755f, 464.450134f), new Vector2(210.145126f, 457.153503f), new Vector2(299.810913f, 418.449158f), new Vector2(320.044617f, 406.989319f), new Vector2(426.365021f, 410.622711f), new Vector2(207.324677f, 466.653778f), new Vector2(303.096222f, 405.044586f), new Vector2(172.260696f, 474.806396f), new Vector2(307.266022f, 408.047882f), new Vector2(424.906067f, 409.360291f), new Vector2(259.975769f, 443.899231f), new Vector2(441.418854f, 402.60849f), new Vector2(441.272583f, 395.04071f), new Vector2(300.757141f, 425.255615f), new Vector2(445.321442f, 427.43396f), new Vector2(315.700348f, 399.152222f), new Vector2(451.750549f, 450.577087f), new Vector2(224.954575f, 444.923737f), new Vector2(347.605865f, 417.311432f), new Vector2(443.568329f, 424.921234f), new Vector2(446.541931f, 435.296143f), new Vector2(457.041504f, 463.081696f), new Vector2(306.172699f, 424.29718f), new Vector2(440.838135f, 416.347015f), new Vector2(193.858307f, 453.509766f), new Vector2(441.078461f, 419.598236f), new Vector2(217.886017f, 438.303192f), new Vector2(441.842743f, 443.171936f), new Vector2(226.695816f, 451.564392f), new Vector2(222.340912f, 462.168976f), new Vector2(440.169647f, 467.383148f), new Vector2(315.566803f, 409.68866f), new Vector2(219.210037f, 442.167847f), new Vector2(241.42894f, 440.493683f), new Vector2(207.655212f, 449.607361f), new Vector2(301.209656f, 432.660736f), new Vector2(435.946808f, 424.21283f), new Vector2(455.173889f, 450.209564f), new Vector2(240.755264f, 446.758698f), new Vector2(325.370941f, 435.21109f), new Vector2(439.668152f, 450.255859f), new Vector2(299.302795f, 455.547729f), new Vector2(441.26767f, 411.061493f), new Vector2(419.162872f, 470.235291f), new Vector2(452.968323f, 444.306549f), new Vector2(213.168304f, 465.272156f), new Vector2(229.19751f, 453.556549f), new Vector2(281.309631f, 434.298096f), new Vector2(429.53418f, 403.672211f), new Vector2(275.30188f, 438.76593f), new Vector2(366.109436f, 463.877197f), new Vector2(227.272125f, 460.008392f), new Vector2(335.754272f, 464.529602f), new Vector2(319.513916f, 442.816132f), new Vector2(343.889862f, 450.102264f), new Vector2(457.032593f, 454.175629f), new Vector2(358.092102f, 396.478149f), new Vector2(311.890106f, 443.181396f), new Vector2(447.427612f, 452.502411f), new Vector2(272.059509f, 440.584167f), new Vector2(444.159729f, 401.086304f), new Vector2(448.74054f, 442.476898f), new Vector2(439.671783f, 433.723755f), new Vector2(323.945587f, 418.577515f), new Vector2(315.131927f, 438.60257f), new Vector2(235.4767f, 437.870575f), new Vector2(216.36084f, 466.657043f), new Vector2(443.81546f, 450.014648f), new Vector2(367.368652f, 460.729248f), new Vector2(275.054657f, 440.129669f), new Vector2(434.934143f, 420.717285f), new Vector2(420.90387f, 428.431427f), new Vector2(225.126968f, 470.130371f), new Vector2(283.62442f, 434.805389f), new Vector2(381.726685f, 447.938049f), new Vector2(310.880951f, 435.005371f), new Vector2(452.513092f, 430.380737f), new Vector2(266.558289f, 447.764069f), new Vector2(325.723511f, 443.497681f), new Vector2(425.465759f, 433.431824f), new Vector2(432.599457f, 449.251953f), new Vector2(324.456482f, 444.409485f), new Vector2(326.812f, 453.078369f), new Vector2(328.54657f, 453.181274f), new Vector2(447.947388f, 401.953064f), new Vector2(223.56424f, 465.574432f), new Vector2(428.462524f, 416.233429f), new Vector2(361.199219f, 396.4758f), new Vector2(298.25177f, 461.847961f), new Vector2(436.922211f, 395.901489f), new Vector2(356.259277f, 455.20459f), new Vector2(432.048035f, 466.640167f), new Vector2(334.343597f, 444.68573f), new Vector2(447.446716f, 466.403f), new Vector2(426.408417f, 465.052704f), new Vector2(356.585388f, 397.483276f), new Vector2(296.686371f, 450.032074f), new Vector2(343.380188f, 445.207397f), new Vector2(418.328552f, 456.717865f), new Vector2(457.031097f, 437.164215f), new Vector2(417.238159f, 430.358124f), new Vector2(318.621674f, 447.910461f), new Vector2(241.808044f, 452.704f), new Vector2(309.240143f, 430.369873f), new Vector2(430.58313f, 445.931152f), new Vector2(412.659576f, 471.056122f), new Vector2(228.899979f, 472.134216f), new Vector2(330.355957f, 454.496948f), new Vector2(304.448425f, 422.49881f), new Vector2(398.990204f, 460.486206f), new Vector2(432.840546f, 471.131256f), new Vector2(434.172882f, 426.593262f), new Vector2(420.211914f, 410.941254f), new Vector2(277.429413f, 439.908112f), new Vector2(452.300659f, 434.82663f), new Vector2(302.880157f, 445.182678f), new Vector2(393.066406f, 463.457336f), new Vector2(290.881f, 462.399139f), new Vector2(294.935791f, 431.668427f), new Vector2(239.989136f, 451.475f), new Vector2(341.908325f, 407.529724f), new Vector2(294.9534f, 406.018036f), new Vector2(288.107605f, 457.341095f), new Vector2(235.803864f, 459.566589f), new Vector2(153.715729f, 464.345337f), new Vector2(354.380676f, 453.674744f), new Vector2(408.977966f, 413.948639f), new Vector2(426.775024f, 448.582062f), new Vector2(401.381683f, 411.092224f), new Vector2(292.596039f, 455.795776f), new Vector2(402.590393f, 443.104828f), new Vector2(323.813202f, 472.164368f), new Vector2(296.018646f, 431.631683f), new Vector2(350.614563f, 460.859192f), new Vector2(289.8573f, 458.245972f), new Vector2(340.610077f, 449.371918f), new Vector2(411.828278f, 410.161926f), new Vector2(343.822937f, 426.386353f), new Vector2(286.695618f, 464.112854f), new Vector2(193.580658f, 471.659363f), new Vector2(400.254791f, 450.336945f), new Vector2(264.530029f, 420.077667f), new Vector2(428.790192f, 442.242981f), new Vector2(334.690094f, 435.637665f), new Vector2(409.944244f, 429.624451f), new Vector2(324.405762f, 429.227051f), new Vector2(300.021515f, 444.25885f), new Vector2(409.244232f, 435.238525f), new Vector2(277.023682f, 442.92453f), new Vector2(333.644714f, 452.574677f), new Vector2(425.881775f, 440.729797f), new Vector2(335.194244f, 451.832336f), new Vector2(293.814f, 447.623f), new Vector2(424.295532f, 461.870148f), new Vector2(410.367371f, 431.692719f), new Vector2(402.224152f, 455.29068f), new Vector2(403.935455f, 470.51059f), new Vector2(311.792267f, 464.244049f), new Vector2(354.608521f, 431.703888f), new Vector2(304.867737f, 454.373f), new Vector2(305.003204f, 462.971558f), new Vector2(324.385681f, 431.650879f), new Vector2(395.28653f, 393.810638f), new Vector2(397.173218f, 393.795288f), new Vector2(226.233154f, 462.929657f), new Vector2(446.483826f, 458.128082f), new Vector2(334.119385f, 419.806305f), new Vector2(192.433975f, 450.223053f), new Vector2(280.227081f, 438.996521f), new Vector2(409.184418f, 444.385925f), new Vector2(259.704834f, 452.180115f), new Vector2(454.655182f, 469.339783f), new Vector2(314.931274f, 425.087463f), new Vector2(268.931274f, 457.638489f), new Vector2(368.008698f, 447.472015f), new Vector2(399.686646f, 464.086f), new Vector2(350.76767f, 428.781128f), new Vector2(433.064972f, 431.447083f), new Vector2(419.031128f, 442.838287f), new Vector2(258.443237f, 451.703827f), new Vector2(438.562439f, 407.275177f) };
    List<GameObject> markers = new List<GameObject>();
    public float DTC;
    private GameObject head;

    public void CreateHead()
    {
        CreateHead(new Vector3(-0.015f, -0.026f, 0));
    }
    public void CreateHead(Vector3 headPos)
    {
        //head = GameObject.CreatePrimitive(PrimitiveType.Cube);
        //Destroy(head.GetComponent<BoxCollider>());
        //Destroy(head.GetComponent<MeshRenderer>());
        head = new GameObject();
        head.transform.localScale = Vector3.one * 0.01f;
        head.transform.parent = this.transform.parent; //Shift head back 0.3m from the quad
        head.transform.localPosition = headPos; //Change this to acquire the exact position
    }
    public void CastPoints()
    {

        //Spawn new markers
        foreach (Vector2 interestPoint in interestPoints)
        {
            float horizontalNormal = interestPoint.x / videoSize.x;
            float localX = (horizontalNormal * transform.lossyScale.x) - (transform.lossyScale.x / 2);
            float localY = (Mathf.Abs(interestPoint.y - videoSize.y) / videoSize.y * transform.lossyScale.y) + (transform.lossyScale.y / 2) - transform.lossyScale.y;

            Vector3 interestPointGlobalPos = transform.position + (transform.rotation * new Vector3(localX, localY, 0));

            //Get rays from head to featurePoints on quad.
            Ray ray = new Ray(interestPointGlobalPos, interestPointGlobalPos - head.transform.position);
            //Ray ray = new Ray(interestPointGlobalPos, transform.forward); // Ortho projection of rays from quad
            RaycastHit hit;
            if (Physics.Raycast(ray, out hit, 3, LayerMask.GetMask("Spatial Awareness")))
            {
                markers.Add(Instantiate(markerPrefab, hit.point, Quaternion.identity));
            }
        }


    }
    public void MakePoints()
    {
        print("Projecting points...");
        //Remove old markers
        foreach (GameObject marker in markers)
        {
            GameObject.Destroy(marker);
        }
        markers.Clear();
        CastPoints();
    }
    void OnDrawGizmos()
    {
        Gizmos.color = Color.yellow;
        foreach (Vector2 interestPoint in interestPoints)
        {
            float horizontalNormal = interestPoint.x / videoSize.x;
            float localX = (horizontalNormal * transform.lossyScale.x) - (transform.lossyScale.x / 2);
            float localY = (Mathf.Abs(interestPoint.y - videoSize.y) / videoSize.y * transform.lossyScale.y) + (transform.lossyScale.y / 2) - transform.lossyScale.y;

            Vector3 interestPointGlobalPos = transform.position + (transform.rotation * new Vector3(localX, localY, 0));

            //Get rays from head to featurePoints on quad.
            Ray ray = new Ray(interestPointGlobalPos, interestPointGlobalPos - head.transform.position);
            Gizmos.DrawRay(ray);
        }
    }

    private void OnDestroy()
    {
        foreach (GameObject marker in markers)
        {
            Destroy(marker);
        }
        markers.Clear();
    }
}
